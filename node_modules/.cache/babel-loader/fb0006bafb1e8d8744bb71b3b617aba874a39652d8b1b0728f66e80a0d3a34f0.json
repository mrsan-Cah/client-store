{"ast":null,"code":"var _jsxFileName = \"E:\\\\Book\\\\frontend\\\\src\\\\pages\\\\Cart.jsx\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { placeOrder } from \"../services/api\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Cart = () => {\n  _s();\n  const [cart, setCart] = useState(JSON.parse(localStorage.getItem(\"cart\")) || []);\n  const [loading, setLoading] = useState(false);\n  const totalAmount = cart.reduce((sum, book) => sum + book.price, 0);\n  const removeFromCart = id => {\n    const updatedCart = cart.filter(b => b._id !== id);\n    setCart(updatedCart);\n    localStorage.setItem(\"cart\", JSON.stringify(updatedCart));\n  };\n  const confirmOrder = async () => {\n    if (cart.length === 0) return;\n    setLoading(true);\n    try {\n      await placeOrder({\n        user: {\n          name: \"Guest User\",\n          address: \"India\"\n        },\n        books: cart,\n        totalAmount\n      });\n      alert(\"Order placed successfully ðŸŽ‰\");\n      localStorage.removeItem(\"cart\");\n      setCart([]);\n    } catch (error) {\n      console.error(\"Order failed\", error);\n      alert(\"Order failed\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Shopping Cart\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), cart.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Your cart is empty\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [cart.map(book => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: book.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\\u20B9\", book.price]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => removeFromCart(book._id),\n          children: \"Remove\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 15\n        }, this)]\n      }, book._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 13\n      }, this)), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"Total: \\u20B9\", totalAmount]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: confirmOrder,\n        disabled: loading,\n        children: loading ? \"Placing Order...\" : \"Confirm Order\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n};\n_s(Cart, \"IvCtheSd2ZSfQVfATDSBegHE04Q=\");\n_c = Cart;\nexport default Cart;\nvar _c;\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"names":["useState","placeOrder","jsxDEV","_jsxDEV","Fragment","_Fragment","Cart","_s","cart","setCart","JSON","parse","localStorage","getItem","loading","setLoading","totalAmount","reduce","sum","book","price","removeFromCart","id","updatedCart","filter","b","_id","setItem","stringify","confirmOrder","length","user","name","address","books","alert","removeItem","error","console","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","title","onClick","disabled","_c","$RefreshReg$"],"sources":["E:/Book/frontend/src/pages/Cart.jsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { placeOrder } from \"../services/api\";\r\n\r\nconst Cart = () => {\r\n  const [cart, setCart] = useState(\r\n    JSON.parse(localStorage.getItem(\"cart\")) || []\r\n  );\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const totalAmount = cart.reduce((sum, book) => sum + book.price, 0);\r\n\r\n  const removeFromCart = (id) => {\r\n    const updatedCart = cart.filter((b) => b._id !== id);\r\n    setCart(updatedCart);\r\n    localStorage.setItem(\"cart\", JSON.stringify(updatedCart));\r\n  };\r\n\r\n  const confirmOrder = async () => {\r\n    if (cart.length === 0) return;\r\n\r\n    setLoading(true);\r\n    try {\r\n      await placeOrder({\r\n        user: {\r\n          name: \"Guest User\",\r\n          address: \"India\"\r\n        },\r\n        books: cart,\r\n        totalAmount\r\n      });\r\n\r\n      alert(\"Order placed successfully ðŸŽ‰\");\r\n      localStorage.removeItem(\"cart\");\r\n      setCart([]);\r\n    } catch (error) {\r\n      console.error(\"Order failed\", error);\r\n      alert(\"Order failed\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h1>Shopping Cart</h1>\r\n\r\n      {cart.length === 0 ? (\r\n        <p>Your cart is empty</p>\r\n      ) : (\r\n        <>\r\n          {cart.map((book) => (\r\n            <div key={book._id} className=\"card\">\r\n              <h4>{book.title}</h4>\r\n              <p>â‚¹{book.price}</p>\r\n              <button onClick={() => removeFromCart(book._id)}>\r\n                Remove\r\n              </button>\r\n            </div>\r\n          ))}\r\n\r\n          <h3>Total: â‚¹{totalAmount}</h3>\r\n\r\n          <button onClick={confirmOrder} disabled={loading}>\r\n            {loading ? \"Placing Order...\" : \"Confirm Order\"}\r\n          </button>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}